(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],h=0,d=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0701":function(t,e,a){},"09d7":function(t,e,a){},"0f57":function(t,e,a){"use strict";var n=a("0701"),r=a.n(n);r.a},1:function(t,e){},"11de":function(t,e,a){"use strict";var n=a("e42e"),r=a.n(n);r.a},1830:function(t,e,a){"use strict";var n=a("09d7"),r=a.n(n);r.a},1925:function(t,e,a){},2:function(t,e){},3:function(t,e){},"43a2":function(t,e,a){"use strict";var n=a("6d7f"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("2222"),s=a.n(r),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),a("router-view")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"absolute z-50 right-9 top-8"},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/collector.svg"}})])}],c=a("2877"),l={},u=Object(c["a"])(l,o,i,!1,null,null,null),h=u.exports,d=(a("b0c0"),a("a4d3"),a("e01a"),a("2f62")),f=a("d4ec"),p=a("bee2"),m=(a("a434"),a("ac1f"),function(){function t(e){Object(f["a"])(this,t),this.limit=e,this.history=[],this.current=0}return Object(p["a"])(t,[{key:"add",value:function(t){this.history.splice(this.current,this.history.length),this.history.length>=this.limit&&this.history.shift(),this.history.push(t),this.current=this.history.length,localStorage.vdarw=s.a.project.exportJSON()}},{key:"undo",value:function(){this.canUndo()&&this.history[--this.current].unexec()}},{key:"redo",value:function(){this.canRedo()&&this.history[this.current++].exec()}},{key:"canUndo",value:function(){return this.current>0}},{key:"canRedo",value:function(){return this.history.length>this.current}},{key:"clear",value:function(){this.history=[],this.current=0,localStorage.vdarw="[]"}}]),t}()),v=new m(20),g=a("2909"),y=a("4c17"),w=a.n(y),x=function(){function t(e){var a=e.path;Object(f["a"])(this,t),this._args={path:a},a.name=w()()}return Object(p["a"])(t,[{key:"exec",value:function(){var t;this.removed&&(t=this._args.path).add.apply(t,Object(g["a"])(this.removed))}},{key:"unexec",value:function(){this.removed=this._args.path.removeSegments()}}]),t}(),b={path:null,show:null},C={lastSize:0,lastColor:"#00000FF"},k=function(t){b.show&&b.show.layer===s.a.project.activeLayer&&C.lastSize===Q.state.pencilArgs.size&&C.lastColor===Q.state.pencilArgs.color||(b.show&&b.show.remove(),b.show=null,b.show=new s.a.Path.Circle({center:[0,0],radius:Q.state.pencilArgs.size/2,fillColor:Q.state.pencilArgs.color}),C.lastSize=Q.state.pencilArgs.size,C.lastColor=Q.state.pencilArgs.color),b.show.position=t.point},S=function(t){b.path=new s.a.Path,b.path.strokeColor=Q.state.pencilArgs.color,b.path.strokeWidth=Q.state.pencilArgs.size,b.path.strokeCap="round",b.path.strokeJoin="round",b.path.add(t.point)},A=function(t){b.path&&b.path.add(t.point)},$=function(t){b.path.add(t.point),Q.state.pencilArgs.shake&&b.path.simplify(),v.add(new x({path:b.path})),b.path=null,b.show&&b.show.remove(),b.show=null},j=function(){},O=function(){b.show&&b.show.remove(),b.show=null},_=new s.a.Tool;_.onMouseDown=S,_.onMouseDrag=A,_.onMouseUp=$,_.onMouseMove=k,_.onToggleIn=j,_.onToggleOut=O;var z={path:null,show:null},M={lastSize:0},T=function(t){z.show&&z.show.layer===s.a.project.activeLayer&&M.layer===Q.state.eraserArgs.size||(z.show&&z.show.remove(),z.show=null,z.show=new s.a.Path.Circle({center:[0,0],radius:Q.state.eraserArgs.size/2,strokeColor:"black",fillColor:"white"}),M.lastSize=Q.state.eraserArgs.size),z.show.position=t.point},L=function(t){z.path=new s.a.Path,z.path.strokeColor="white",z.path.strokeWidth=Q.state.eraserArgs.size,z.path.blendMode="destination-out",z.path.strokeCap="round",z.path.strokeJoin="round",z.path.add(t.point)},E=function(t){z.show&&(z.show.position=t.point,z.show.bringToFront()),z.path&&z.path.add(t.point)},D=function(t){z.path.add(t.point),v.add(new x({path:z.path})),z.path=null},B=function(){},I=function(){z.show&&z.show.remove(),z.show=null},P=new s.a.Tool;P.onMouseDown=L,P.onMouseDrag=E,P.onMouseUp=D,P.onMouseMove=T,P.onToggleIn=B,P.onToggleOut=I;var R={prevSelection:null};function V(){if(R.prevSelection){var t=R.prevSelection.path||R.prevSelection;t.bounds.selected=!1,t.selected=!1,R.prevSelection.selected=!1,R.prevSelection=null}}var N=function(t){V();var e=s.a.project.hitTest(t.point,{tolerance:4,fill:!0,stroke:!0,segments:!0}),a=e&&e.item;if(a){var n="segment"===e.type;a.bounds.selected=!n,n&&(a=e.segment),a.selected=!0}R.prevSelection=a},U=function(){V()},H=new s.a.Tool;H.onMouseDown=N,H.onToggleOut=U;var F={path:null,carryLength:0},W=function(){F.path=new s.a.Path,F.path.fillColor=Q.state.brushArgs.color},X=function(t){if(F.path&&t.delta.length>1){var e=t.delta;e.angle=e.angle+90;var a=e.normalize().multiply(Q.state.brushArgs.size).multiply(1/e.length),n=t.middlePoint.add(a),r=t.middlePoint.subtract(a);F.carryLength=F.carryLength+e.length,F.carryLength>a.length&&(F.path.add(n),F.path.insert(0,r),F.path.smooth(),F.carryLength=0)}},q=function(){Q.state.brushArgs.shake&&F.path.simplify(),v.add(new x({path:F.path})),F.path=null},J=function(){},G=function(){},Y=new s.a.Tool;Y.onMouseDown=W,Y.onMouseDrag=X,Y.onMouseUp=q,Y.onToggleIn=J,Y.onToggleOut=G;var Z={pencil:_,eraser:P,select:H,brush:Y};n["default"].use(d["a"]);var Q=new d["a"].Store({state:{image:"",capture:"",drawing:"",audio:"",plant:{name:"",data:{}},toolName:null,canvasArgs:{bgColor:"#fff"},pencilArgs:{color:"#000000",size:10,shake:!0},eraserArgs:{size:20},brushArgs:{color:"#000000",size:20,shake:!0},drawSession:{step:0,description:""}},mutations:{reset:function(t){t.image="",t.capture="",t.drawing="",t.audio="",t.plant.name="",t.plant.data={},t.drawSession.step=0,t.drawSession.description=""},setImage:function(t,e){t.image=e},setCapture:function(t,e){t.capture=e},setDrawing:function(t,e){t.drawing=e},setAudio:function(t,e){t.audio=e},setPlant:function(t,e){t.plant.name=e},setPlantData:function(t,e){t.plant.data=e},setStep:function(t){t.drawSession.step<7&&t.drawSession.step++},setDescription:function(t,e){t.drawSession.description=e},setTool:function(t,e){t.toolName&&Z[t.toolName].onToggleOut&&Z[t.toolName].onToggleOut(),t.toolName=e,Z[e]&&(Z[e].activate(),Z[e].onToggleIn&&Z[e].onToggleIn())},setArgs:function(t,e){var a=e.toolName,n=e.color,r=e.size,s=e.shake,o=t[a+"Args"];o.color=n||o.color,o.size=r||o.size,void 0!==s&&(o.shake=s)},setCanvasArgs:function(t,e){Object.assign(t.canvasArgs,e)}},actions:{},modules:{}}),K=a("e37d"),tt=(a("b972"),a("8c4f")),et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("div",{staticClass:"z-50 absolute bottom-12 left-1/2 transform -translate-x-1/2"},[a("a",{ref:"classification",staticClass:"text",attrs:{id:"classification"}})]),a("div",{ref:"toCanvas",staticClass:"z-50 absolute bottom-6 right-12 hidden"},[a("router-link",{staticClass:"mx-6",attrs:{to:"/canvas"}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/next.svg"}})])],1),t._m(0),a("div",{ref:"capture"},[a("VCapture",{staticClass:"z-50 absolute top-1/2 right-5 transform -translate-y-1/2",on:{click:function(e){return t.onCapture()}}})],1),t._m(1),a("div",{ref:"clear",staticClass:"z-50 absolute w-80 h-80 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 hidden",on:{click:function(e){return t.clear()}}}),a("div",{ref:"canvasWrapper",staticClass:"z-0 overflow-hidden hidden absolute bottom-0"},[a("canvas",{ref:"canvas",attrs:{id:"canvas"}})]),a("div",{staticClass:"z-0 overflow-hidden absolute bottom-0"},[a("video",{ref:"video",attrs:{width:t.windowWidth,height:t.windowHeight,id:"video",playsinline:"",autoplay:""}})])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"z-50 absolute top-12 left-1/2 transform -translate-x-1/2"},[a("p",{staticClass:"text"},[t._v("按下快门，和我一起写生吧！")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"z-40 layer"},[a("div",{staticClass:"circle"})])}],nt=a("5530"),rt=(a("d3b7"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.handleClick}},[t._m(0)])}),st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/shot.svg"}})])}],ot={methods:{handleClick:function(t){this.$emit("click",t)}}},it=ot,ct=Object(c["a"])(it,rt,st,!1,null,"50c92132",null),lt=ct.exports,ut=[{name:"杜鹃花",type:"被子植物门·双子叶植物纲·杜鹃花目·杜鹃花科·杜鹃属",draw:["我是杜鹃花，一般在春季开花，每簇花2到6朵，花冠像个漏斗。叶子革质，常集生枝端，通常是卵形、椭圆状卵形。","我有红、淡红、杏红、雪青、白色等不同颜色的品种，花色繁茂艳丽。我的花冠上往往会有一些斑点","我主要生活在亚洲，常出现在山地疏灌丛或松林下，周围会有很多绿叶，也会有一些小昆虫会出现在我的身边。"],data:["杜鹃是双子叶植物纲、杜鹃花科、杜鹃属的常绿灌木、落叶灌木。又名映山红、山石榴。相传，古有杜鹃鸟，日夜哀鸣而咯血，染红遍山的花朵，因而得名。杜鹃花一般春季开花，每簇花2-6朵，花冠漏斗形，有红、淡红、杏红、雪青、白色等，花色繁茂艳丽。生于海拔500-1200（-2500）米的山地疏灌丛或松林下，为中国中南及西南典型的酸性土指示植物。","该物种全株供药用,有行气活血、补虚，治疗内伤咳嗽，肾虚耳聋，风湿等疾病。又因花冠鲜红色，为著名的花卉植物，具有较高的观赏价值，在世界各公园中均有栽培。中国江西、安徽、贵州以杜鹃花为省花，定为市花的城市多达七八个。1985年5月杜鹃花被评为中国十大名花之六。","原产于东亚，生长在海拔500-2700米的高度。野生物种分布于中国、日本、老挝、缅甸和泰国。"]},{name:"花烛",type:"被子植物门·单子叶植物纲·佛焰花目·天南星科·花烛属",draw:["我是花烛，是常绿草本植物，常年开花不断。叶子从基部生出，呈圆状心形或卵心形，叶柄细长。我的花朵同样也呈卵心形，中间还会有一株花穗。","我的花朵一般是橙红色或猩红色，肉穗花序是黄色。我的叶子一般是绿色，表面光滑，会有一些条状纹路。","我主要生活在热带雨林区。常附生在树上，有时附生在岩石上或直接生长在地上，喜欢温暖、潮湿、半阴的环境，不喜欢阳光直射。"],data:["花烛是单子叶植物纲天南星科花烛属多年生常绿草本植物。茎节短；叶自基部生出，绿色，革质，全缘，长圆状心形或卵心形。叶柄细长，佛焰苞平出，革质并有蜡质光泽，橙红色或猩红色；肉穗花序黄色，可常年开花不断。","花烛原产于哥斯达黎加、哥伦比亚等热带雨林区。常附生在树上，有时附生在岩石上或直接生长在地上，性喜温暖、潮湿、半阴的环境，忌阳光直射。","花烛花姿奇特美妍。花期持久，适合盆栽、切花或庭园荫蔽处丛植美化。"]},{name:"马蹄莲",type:"被子植物门·单子叶植物纲·天南星目·天南星科·马蹄莲属",draw:["我是马蹄莲，我的花朵呈喇叭状或马蹄状，花朵中间有圆柱形的肉穗。我的叶片较厚，呈箭形，先端具尾状尖头，基部呈心形或戟形。","我的花苞有黄色、粉色和红色，靠近中间的地方颜色较深，靠近边缘的地方颜色较浅。我的叶片呈翠绿色，表面上点缀有一些白斑。","我喜欢温暖、湿润和阳光充足的环境。更喜欢肥沃、保水性能好的黏质土壤。我主要分布在中国北京、江苏、福建、台湾、四川、云南及秦岭地区。"],data:["马蹄莲是单子叶植物纲、天南星科、马蹄莲属多年生粗壮草本。具块茎，并容易分蘖形成丛生植物。叶基生，叶下部具鞘；叶片较厚，绿色，心状箭形或箭形，先端锐尖、渐尖或具尾状尖头，基部心形或戟形。喜疏松肥沃、腐殖质丰富的粘壤土。","马蹄莲花有毒，内含大量草本钙结晶和生物碱，误食会引起昏眠等中毒症状。该物种为中国植物图谱数据库收录的无毒植物，其毒性为块茎、佛焰苞和肉穗花序有毒。咀嚼一小块块茎可引起舌喉肿痛。马蹄莲可药用，具有清热解毒的功效。治烫伤，鲜马蹄莲块茎适量，捣烂外敷。预防破伤风，在创伤处，用马蹄莲块茎捣烂外敷。马蹄莲有毒， 禁忌内服。","马蹄莲在欧美国家是新娘捧花的常用花。也是埃塞俄比亚的国花。"]},{name:"蝴蝶兰",type:"被子植物门·单子叶植物纲·微子目·兰科·蝴蝶兰属",draw:["我是蝴蝶兰，我的花朵往往由五个花瓣组成，上边两个花瓣很像蝴蝶的翅膀，所以我被称为蝴蝶兰。我的叶片呈椭圆形，长圆形或镰刀状。叶子旁边有好多椭球形的小花苞。","我常见的颜色有粉红、紫红、橘红、红、白、紫蓝等，还有斑纹、线条变化。我的花瓣也可能有不同的颜色，或者呈现渐变色，并有一些条纹。","我往往分布于中国、泰国、菲律宾、马来西亚、印度尼西亚等国家。生长在低海拔的热带和亚热带的丛林树干上。"],data:["蝴蝶兰为兰科、蝴蝶兰属植物，叶3-4枚或更多，椭圆形或镰状长圆形，长10-20厘米，宽3-6厘米；花葶长达50厘米，花序梗径4-5毫米，花序轴稍回折状；中萼片近椭圆形，长约3厘米，基部稍窄，侧萼片斜卵形，基部贴生蕊柱足；花瓣菱状圆形，具红色斑点或细纹，中裂片菱形，基部具黄色肉突：蕊柱长约1厘米，蕊柱足宽；每个花粉团裂为不等大2爿。","分布于中国、泰国、菲律宾、马来西亚、印度尼西亚。生于低海拔的热带和亚热带的丛林树干上。","蝴蝶兰的花朵艳丽娇俏，赏花期长，花朵数多，能吸收室内有害气体，既能净化空气又可作盆栽观赏。还可用作切花、贵宾胸花、新娘捧花、花篮插花的高档素材；在节日可用于馈赠。"]},{name:"水塔花",type:"被子植物门·单子叶植物纲·粉状胚乳目·凤梨科·水塔花属",draw:["我是水塔花，叶阔披针形，急尖，边缘有细锯齿，硬革质，鲜绿色，表面有厚角质层和吸收鳞片。穗状花序直立，高出叶丛。叶片从根茎处旋叠状丛生，基部呈莲座状，中心呈筒状。","我的苞片呈粉红色，花冠朱红色，花瓣外卷，边缘带紫色，表面有条纹。我的叶子又大又绿，包裹在花瓣周围。","我喜欢温暖、湿润、半阴的环境，不耐寒，原产巴西。我主要生活在灌木丛中的疏荫下或山坡的西北面，也是良好的室内室栽观叶植物。"],data:['水塔花是凤梨科多年生常绿草本多浆植物，茎甚短。叶阔披针形，急尖，边缘有细锯齿，硬革质，鲜绿色，表面有厚角质层和吸收鳞片。穗状花序直立，高出叶丛，苞片粉红色，花冠朱红色，花瓣外卷，边缘带紫色。叶片从根茎处旋叠状丛生，基部呈莲座状，中心呈筒状。多于冬春季开花。叶片革质；青翠而光泽，丛生成莲座状，端庄秀丽；叶基部相互抱合，使植株中心成筒状，内可盛水而不漏，状似水塔，故得名"水塔花"。',"水塔花喜温暖、湿润、半阴环境。不耐寒。稍耐旱，原产巴西。是良好的室内室栽观叶植物。原产美洲热带，附生在热带森林的树上或腐殖质中。中国温室多有栽培，尤其是南方地区。"]},{name:"向日葵",type:"被子植物门·双子叶植物纲·桔梗目·菊科·向日葵属",draw:["我是向日葵，花序会随太阳转动，茎直立，圆形多棱角，质硬白色粗硬毛。广卵形叶片通常互生，先端锐突或渐尖，边缘具粗锯齿，两面粗糙，被毛，有长柄。","我的花序边缘有中性的黄色舌状花，花序中部是两性管状花，通常是棕色或紫色，能结果。我的矩卵形下位瘦果，果皮呈现木质化，灰色或黑色，大家都称它们为葵花籽。","我喜欢草原或者其他干燥、开阔的地区，会沿着路边、田野、沙漠边缘和草地生长。我能够耐受高温和低温，对土壤要求较低，无论是肥沃的土壤还是旱地、瘠薄、盐碱地上面，都可以看见我的身影。"],data:["向日葵是桔梗目、菊科、向日葵属的植物。因花序随太阳转动而得名。一年生草本，高1-3.5米，最高可达9米。茎直立，圆形多棱角，质硬被白色粗硬毛。广卵形的叶片通常互生，先端锐突或渐尖，有基出3脉，边缘具粗锯齿，两面粗糙，被毛，有长柄。头状花序，直径10-30厘米，单生于茎顶或枝端。总苞片多层，叶质，覆瓦状排列，被长硬毛，夏季开花，花序边缘生中性的黄色舌状花，不结实。花序中部为两性管状花，棕色或紫色，能结实。矩卵形瘦果，果皮木质化，灰色或黑色，称葵花籽。","野生向日葵栖息地主要是草原以及干燥、开阔的地区。它们沿着路边、田野、沙漠边缘和草地生长。在阳光充足，潮湿或受干扰的地区生长最好。原产南美洲，驯化种由西班牙人于1510年从北美带到欧洲，最初为观赏用。19世纪末，又被从俄国引回北美洲。世界各国和中国均有栽培，通过人工培育，在不同生境上形成许多品种，特别在头状花序的大小色泽及瘦果形态上有许多变异，并为综合利用的最好原料。","主要分两大类，食用和观赏。向日葵种子叫葵花籽，含油量很高，为半干性油，味香可口，供食用。花穗、种子皮壳及茎秆可作饲料及工业原料，如制人造丝及纸浆等，花穗也供药用。"]},{name:"报春花",type:"被子植物门·双子叶植物纲·报春花目·报春花科·报春花属",draw:["我是报春花，是暖温带植物。叶片是长卵形，基部是心形或截形，边缘有不整齐具细锯齿状的缺裂，叶柄长2-15厘米，鲜时带肉质，具狭翅，被多细胞柔毛。","我在秋季开花，花朵一般呈碟状，花冠是淡紫色或者红色，有伞状花序2-4轮，形状是球形蒴果。","我主要分布在中国的云南，贵阳和广西西部，喜欢生长于潮湿旷地、沟边和林缘，喜欢温凉、湿润的环境和排水良好、富含腐殖质的土壤。"],data:["报春花报春花科报春花属二年生草本植物，通常被粉，叶簇生，叶片卵形至椭圆形或矩圆形，裂片具不整齐的小牙齿，叶柄被多细胞柔毛。花葶高可达40厘米，伞形花序，苞片线形或线状披针形，花梗纤细，花萼钟状，花冠粉红色，淡蓝紫色或近白色，蒴果球形，2-5月开花，3-6月结果。","分布中国的云南、贵州和广西，缅甸北部亦有分布。多生长于荒野、田边，潮湿旷地、沟边和林缘，该种广泛栽培于世界各地，并有许多园艺品种，报春花早春开花， 花色丰富，花期长，具有很高的观赏价值。"]},{name:"月季花",type:"被子植物门·双子叶植物纲·蔷薇目·蔷薇科·蔷薇属",draw:["我是月季花，我的小枝有粗壮而略带钩状的皮刺或无刺，叶柄和叶轴散生皮刺和短腺毛；托叶大部附生于叶柄之上，边缘有腺毛。","我的花朵常常数朵聚生，花梗较长，常见的花色为红色或者玫瑰色，直径约5厘米，会散发出淡淡的香味，大家都很喜欢我。","我主要分布在于温带与热带地区，喜欢肥沃，富含有机质，排水良好的土壤，喜欢待在日照充足，空气流通的环境中。"],data:["月季花被称为花中皇后，又称“月月红”，是常绿、半常绿低矮灌木，四季开花﹐一般为红色﹐或粉色、偶有白色和黄色﹐可作为观赏植物，也可作为药用植物，亦称月季。有三个自然变种，现代月季花型多样，有单瓣和重瓣，还有高心卷边等优美花型；其色彩艳丽、丰富，不仅有红、粉、黄、白等单色，还有混色、银边等品种；多数品种有芳香。月季的品种繁多，世界上已有近万种，中国也有千种以上。","自然花期4月-9月，花成大型，由内向外，呈发散型，有浓郁香气，可广泛用于园艺栽培和切花。月季的适应性强，耐寒、抗旱，不论地栽、盆栽均可，适用于美化庭院、装点园林、布置花坛、配植花篱、花架，月季栽培容易，可作切花，用于做花束和各种花篮，月季花朵可提取香精，并可入药。也有较好的抗真菌及协同抗耐药真菌活性。红色切花更成为情人间必送的礼物之一，并成为爱情诗歌的主题。","中国是月季的原产地之一。月季花荣秀美，姿色多样，四时常开，深受人们的喜爱，中国有52个城市将它选为市花，1985年5月月季被评为中国十大名花第五名。"]},{name:"瓜叶菊",type:"被子植物门·双子叶植物纲·桔梗目·菊科·瓜叶菊属",draw:["我是瓜叶菊，全株被微毛，叶片大形如瓜叶，绿色光亮。花顶生，头状花序多数聚合成伞房花序，花序密集覆盖于枝顶，常呈锅底形。","我的花色比较丰富，除黄色外其他颜色均有，紫色，白色比较常见，还有红白相间的复色。我的花朵像舌片一样开展，形状呈现长椭圆形。","我主要生活在温暖，温润以及通风良好的环境中，不耐受高温，害怕霜冻，一般人们都将我放在低温温室中栽培。"],data:["瓜叶菊是菊科瓜叶菊属植物，别称富贵菊、黄瓜花。多年生草本，常作1－2年生栽培。分为高生种和矮生种，20－90厘米不等。全株被微毛，叶片大形如瓜叶，绿色光亮。花顶生，头状花序多数聚合成伞房花序，花序密集覆盖于枝顶，常呈锅底形，花色丰富，除黄色其他颜色均有，还有红白相间的复色，花期1－4月。瓜叶菊的花语是：喜悦，快活，快乐，合家欢喜，繁荣昌盛。适宜在春节期间送给亲友，此花色彩鲜艳，体现美好的心意。"]}],ht={components:{VCapture:lt},data:function(){return{video:"",imgData:"",canvas:"",context:"",scale:1,sketch:new Image,windowWidth:1194,windowHeight:897}},computed:Object(nt["a"])({},Object(d["b"])(["capture","plant"])),methods:{errorHandler:function(t){console.log("navigator.getUserMedia error: ",t)},gotStream:function(t){return window.stream=t,this.video.srcObject=t,navigator.mediaDevices.enumerateDevices()},start:function(){window.stream&&window.stream.getTracks().forEach((function(t){t.stop()}));var t={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(t).then(this.gotStream).catch(this.errorHandler)},onCapture:function(){document.getElementById("classification").innerHTML="",this.$refs.capture.classList.toggle("hidden"),this.$refs.canvasWrapper.classList.toggle("hidden"),this.$refs.clear.classList.toggle("hidden"),this.video.classList.toggle("hidden"),this.context.drawImage(this.video,0,0,this.canvas.width/this.scale,this.canvas.height/this.scale),this.imgData=this.canvas.toDataURL("image/jpeg"),this.$store.commit("setCapture",this.imgData),this.onConfirm()},onConfirm:function(){var t=new XMLHttpRequest;t.open("POST","https://ztodesign.cn:5000/photo2sketch",!0),t.setRequestHeader("cache-control","no-cache");var e=new FormData;e.append("image",this.imgData);var a=this;t.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){var e=JSON.parse(t.responseText);if(a.$refs.toCanvas.classList.toggle("hidden"),document.getElementById("classification").innerHTML=e.data.class,e)if("非植物"===e.data.class){a.$store.commit("setImage",e.data.resImage),a.$store.commit("setPlant","杜鹃花");for(var n=0;n<ut.length;n++)a.plant.name===ut[n].name&&a.$store.commit("setPlantData",ut[n])}else{a.$store.commit("setImage",e.data.resImage),a.$store.commit("setPlant",e.data.class);for(var r=0;r<ut.length;r++)a.plant.name===ut[r].name&&a.$store.commit("setPlantData",ut[r])}}},t.send(e)},clear:function(){this.$refs.capture.classList.toggle("hidden"),this.$refs.canvasWrapper.classList.toggle("hidden"),this.$refs.toCanvas.classList.toggle("hidden"),this.video.classList.toggle("hidden"),this.$refs.clear.classList.toggle("hidden")}},mounted:function(){document.body.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1}),this.windowWidth=document.documentElement.clientWidth,this.windowHeight=this.windowWidth/4*3,this.video=this.$refs.video,this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.scale=window.devicePixelRatio,this.canvas.width=Math.floor(this.windowWidth),this.canvas.height=Math.floor(this.windowHeight),this.context.scale(this.scale,this.scale);var t=this;this.sketch.onload=function(){t.context.drawImage(this,0,0,t.canvas.width/t.scale,t.canvas.height/t.scale)},navigator.mediaDevices.enumerateDevices().catch(this.errorHandler),this.start()}},dt=ht,ft=(a("667b"),Object(c["a"])(dt,et,at,!1,null,"126c9f99",null)),pt=ft.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"canvas w-full h-full flex flex-col justify-between items-center overflow-hidden",class:{default:t.isDefault,image:!t.isDefault},style:{backgroundImage:t.getBg}},[a("div",{staticClass:"absolute flex flex-row justify-between items-center bg-white rounded-b-2xl"},[a("VHeader")],1),a("canvas",{ref:"canvas",staticClass:"w-full h-screen",style:t.cursor+t.canvasBg,attrs:{id:"canvas",resize:""}}),a("VDialogue",{ref:"sidebar",staticClass:"absolute top-1/2 left-0 transform -translate-y-2/3 transition duration-500 ease-in-out",on:{click:t.toggleSideBar,toggleMagnifier:t.toggleMagnifier}}),t.drawSession.step<4?a("VContent",{staticClass:"absolute bottom-11"}):t._e(),5===t.drawSession.step?a("VRecorder",{staticClass:"absolute bottom-16"}):t._e(),a("VNext",{staticClass:"absolute bottom-12 right-12",on:{click:t.exportSvg}}),t.drawSession.step<4?a("VTrump",{staticClass:"absolute bottom-11 left-16"}):t._e(),a("VMagnifier",{ref:"magnifier",staticClass:"absolute top-8 left-20 border-8 border-yellow-400 rounded-full transition duration-500 ease-in-out transform -translate-y-80",on:{click:function(e){t.toggleMagnifier(),t.toggleSideBar()}}})],1)},vt=[],gt=(a("a630"),a("3ca3"),a("99af"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex items-center justify-center flex-wrap w-96 h-20"},[a("VTools",{staticClass:"transform -translate-y-3"})],1)}),yt=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"pr-10",staticStyle:{height:"60px"}},[a("div",{staticClass:"color w-14 h-14 rounded-full transition duration-300 ease-in-out",style:{backgroundColor:t.pencilArgs.color}})]),a("VPicker",{staticClass:"transform pr-10"}),a("v-popover",{attrs:{disabled:!0,offset:"16"}},[a("VIconBtn",{ref:"pencil",staticClass:"transform -translate-y-5 transition duration-300 ease-in-out pr-10",attrs:{title:"画笔(P)",active:"pencil"===t.toolName,name:"pencil"},on:{click:function(e){return t.setTool("pencil")}}}),a("template",{slot:"popover"},[a("div",{staticClass:"v-size-picker"},[a("VueSlider",{attrs:{min:1},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)])],2),a("v-popover",{attrs:{disabled:!0,offset:"16"}},[a("VIconBtn",{ref:"eraser",staticClass:"transform transition duration-300 ease-in-out",attrs:{title:"擦除(E)",active:"eraser"===t.toolName,name:"eraser"},on:{click:function(e){return t.setTool("eraser")}}}),a("template",{slot:"popover"},[a("div",{staticClass:"v-size-picker"},[a("VueSlider",{attrs:{min:1},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)])],2)],1)},xt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.handleClick}},[a("i",[a("img",{attrs:{src:t.src,alt:t.name}})])])},Ct=[],kt={props:{active:Boolean,disabled:Boolean,name:String},computed:{src:function(){return"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/"+this.name+".svg"}},methods:{handleClick:function(t){this.disabled||this.$emit("click",t)}}},St=kt,At=Object(c["a"])(St,bt,Ct,!1,null,"6cc9eac0",null),$t=At.exports,jt=a("4971"),Ot=a.n(jt),_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-row items-center"},[a("v-popover",{attrs:{disabled:t.disabledColor,offset:"16"}},[a("VIconBtn",{attrs:{disabled:t.disabledColor,title:"颜色",color:t.color,name:"color"}}),a("template",{slot:"popover"},[a("SwatchesPicker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],2)],1)},zt=[],Mt=a("c345"),Tt={components:{VIconBtn:$t,CompactPicker:Mt["Compact"],SwatchesPicker:Mt["Swatches"]},data:function(){return{color:"#000000"}},computed:Object(nt["a"])(Object(nt["a"])({},Object(d["b"])(["toolName"])),{},{toolArgs:function(){return this.$store.state[this.toolName+"Args"]||{}},disabledColor:function(){return null===this.toolName||"eraser"===this.toolName}}),watch:{toolName:function(){this.toolArgs.color&&(this.color=this.toolArgs.color)},color:function(){this.toolArgs.color&&this.$store.commit("setArgs",{toolName:this.toolName,color:this.color.hex8})}}},Lt=Tt,Et=Object(c["a"])(Lt,_t,zt,!1,null,"08c0156b",null),Dt=Et.exports,Bt=(a("8445"),{components:{VIconBtn:$t,VueSlider:Ot.a,VPicker:Dt},data:function(){return{size:1}},computed:Object(nt["a"])(Object(nt["a"])({},Object(d["b"])(["pencilArgs"])),{},{toolName:function(){return this.$store.state.toolName},toolArgs:function(){return this.$store.state[this.toolName+"Args"]||{}},disabledSize:function(){return null===this.toolName}}),watch:{toolName:function(){this.toolArgs.size&&(this.size=this.toolArgs.size)},size:function(){this.toolArgs.size&&this.$store.commit("setArgs",{toolName:this.toolName,size:this.size})}},methods:{setTool:function(t){"pencil"===t?(this.$refs["pencil"].$el.classList.remove("-translate-y-5"),this.$refs["pencil"].$el.classList.add("translate-y-2"),this.$refs["eraser"].$el.classList.remove("scale-110")):"brush"===t?(this.$refs["pencil"].$el.classList.remove("translate-y-2"),this.$refs["pencil"].$el.classList.add("-translate-y-5"),this.$refs["eraser"].$el.classList.remove("scale-110")):"eraser"===t&&(this.$refs["pencil"].$el.classList.remove("translate-y-2"),this.$refs["pencil"].$el.classList.add("-translate-y-5"),this.$refs["eraser"].$el.classList.add("scale-110")),this.$store.commit("setTool",t)}},mounted:function(){this.$refs["pencil"].$el.classList.remove("-translate-y-5"),this.$refs["pencil"].$el.classList.add("translate-y-2")}}),It=Bt,Pt=(a("e9ff"),Object(c["a"])(It,wt,xt,!1,null,"4863c350",null)),Rt=Pt.exports,Vt=function(t){t||(t=w()());var e=new s.a.Layer({name:t});return s.a.project.addLayer(e),e},Nt=function(){return s.a.project.clear(),v.clear(),s.a.project},Ut=a("9b6a"),Ht={components:{VTools:Rt,VIconBtn:$t,VPicker:Dt},data:function(){return{history:v}},mounted:function(){Object(Ut["a"])("ctrl+s",this.exportSvg),Object(Ut["a"])("f1",this.help)},methods:{clear:function(){Nt(),Vt()},undo:function(){v.undo()},redo:function(){v.redo()}}},Ft=Ht,Wt=Object(c["a"])(Ft,gt,yt,!1,null,"7f247ccd",null),Xt=Wt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"test",staticClass:"dialogue-wrapper flex flex-row bg-white rounded-r-2xl"},[a("img",{staticClass:"pl-6",attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/line.svg"}}),a("div",{staticClass:"flex flex-col justify-between items-center",on:{click:t.handleClick}},[a("div",{staticClass:"pt-6"},[a("p",{staticClass:"dialogue"},[a("span",[t._v(t._s(t.content))])])]),a("img",{staticClass:"m-12",attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/len.svg"},on:{click:function(e){return t.$emit("toggleMagnifier")}}})])])},Jt=[];a("a15b"),a("ddb0"),a("2b3d"),a("9861");function Gt(t,e){var a="https://tsn.baidu.com/text2audio",n=e||{},r=t||{},s=document.createElement("audio");n.autoplay&&s.setAttribute("autoplay","autoplay"),n.hidden?s.style.display="none":s.setAttribute("controls","controls"),"undefined"!==typeof n.volume&&(s.volume=n.volume),p(n.onInit)&&n.onInit(s);var o=6e4,i=n.timeout||o,c=new XMLHttpRequest;c.open("POST",a);var l={};for(var r in t)l[r]=t[r];l.cuid=l.cuid||l.tok,l.ctp=1,l.lan=l.lan||"zh",l.aue=l.aue||3;var u=[];for(var h in l)u.push(h+"="+encodeURIComponent(l[h]));var d=new FileReader;c.responseType="blob",c.send(u.join("&"));var f=setTimeout((function(){c.abort(),p(n.onTimeout)&&n.onTimeout()}),i);function p(t){return"[object Function]"===Object.prototype.toString.call(t)}c.onreadystatechange=function(){4==c.readyState&&(clearTimeout(f),200==c.status&&("audio/mp3"===c.response.type&&(document.body.appendChild(s),s.setAttribute("src",URL.createObjectURL(c.response)),n.autoDestory&&(s.onended=function(){document.body.removeChild(s)}),p(n.onSuccess)&&n.onSuccess(s)),"application/json"===c.response.type&&(d.onload=function(){var t=d.result;p(n.onError)&&n.onError(t)},d.readAsText(c.response))))}}function Yt(t){console.log(t),Gt({tex:t,tok:"25.460eac2eaa96064987fb7d42b0bdebd9.315360000.1953616249.282335-24318664",spd:5,pit:5,vol:15,per:103},{volume:.3,autoDestory:!0,timeout:1e4,hidden:!0,autoplay:!0})}var Zt={computed:Object(nt["a"])(Object(nt["a"])({},Object(d["b"])(["drawSession"])),{},{content:function(){return 0===this.drawSession.step?"你好呀，小朋友! 我已经帮你绘制了我的轮廓，点击下一步让我们开始写生吧！":1===this.drawSession.step?"小朋友! 你可以通过观察补充我的样子吗？比如我的花瓣，我的叶子等等。":2===this.drawSession.step?"小朋友! 你可以给我涂上颜色和画出纹理吗？如果周围安全的话，试着摸摸看！":3===this.drawSession.step?"小朋友! 周围环境有没有其他植物或者小昆虫？你可以将它们补充到画面中吗？":4===this.drawSession.step?"小朋友! 发挥想象力，最后来丰富一下你的画面吧！":5===this.drawSession.step?"小朋友! 听听看，我的周围有什么声音？你可以把它录下来吗？":6===this.drawSession.step?"太棒了！你已经完成了这次的写生，点击下一步查看我的完整信息吧！":""}}),methods:{handleClick:function(t){this.$emit("click",t)}},watch:{content:function(t){Yt(t)}},mounted:function(){this.$refs.test.click(),Yt("你好呀，小朋友! 我已经帮你绘制了我的轮廓，点击下一步让我们开始写生吧！")}},Qt=Zt,Kt=(a("43a2"),Object(c["a"])(Qt,qt,Jt,!1,null,"1fe2861c",null)),te=Kt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper filter drop-shadow-md"},[a("p",{staticClass:"content"},[a("span",[t._v(t._s(t.content))])])])},ae=[],ne={computed:Object(nt["a"])(Object(nt["a"])({},Object(d["b"])(["drawSession","plant"])),{},{content:function(){var t="";return this.plant.data!=={}&&(0===this.drawSession.step||1===this.drawSession.step?t=this.plant.data.draw[0]:2===this.drawSession.step?t=this.plant.data.draw[1]:3===this.drawSession.step&&(t=this.plant.data.draw[2])),this.$store.commit("setDescription",t),t}})},re=ne,se=(a("5a82"),Object(c["a"])(re,ee,ae,!1,null,"18885391",null)),oe=se.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.handleClick}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/next.svg"}})])},ce=[],le={computed:Object(nt["a"])({},Object(d["b"])(["drawSession"])),methods:{handleClick:function(t){this.$store.commit("setStep"),6===this.drawSession.step&&this.$router.push({path:"/plant"}),this.$emit("click",t)}}},ue=le,he=Object(c["a"])(ue,ie,ce,!1,null,"ae769310",null),de=he.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.handleClick}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/trump.svg"}})])},pe=[],me={computed:Object(nt["a"])({},Object(d["b"])(["drawSession"])),methods:{handleClick:function(t){Yt(this.drawSession.description),this.$emit("click",t)}}},ve=me,ge=Object(c["a"])(ve,fe,pe,!1,null,"0d3f0be0",null),ye=ge.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-72 h-72 overflow-hidden",attrs:{id:"camera"},on:{click:t.handleClick}},[a("video",{ref:"video",staticClass:"video absolute right-0 top-0 object-cover",attrs:{id:"video",playsinline:"",autoplay:""}})])},xe=[],be={data:function(){return{videoElement:""}},methods:{errorHandler:function(t){console.log("navigator.getUserMedia error: ",t)},gotStream:function(t){return window.stream=t,this.videoElement.srcObject=t,navigator.mediaDevices.enumerateDevices()},start:function(){window.stream&&window.stream.getTracks().forEach((function(t){t.stop()}));var t={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(t).then(this.gotStream).catch(this.errorHandler)},handleClick:function(t){this.$emit("click",t)}},mounted:function(){this.videoElement=this.$refs.video,navigator.mediaDevices.enumerateDevices().catch(this.errorHandler),this.start()}},Ce=be,ke=(a("11de"),Object(c["a"])(Ce,we,xe,!1,null,"0dcda686",null)),Se=ke.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-full absolute flex flex-row justify-between items-center px-48"},[a("button",{ref:"audio",staticClass:"absolute left-16",on:{click:function(e){return t.onAudioRecord()}}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/audio.svg"}})]),a("div",{ref:"play",staticClass:"absolute left-16 hidden",on:{click:function(e){return t.onAudioPlay()}}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/trump.svg"}})]),a("div",{staticClass:"slide-progress-bar"},[a("div",{ref:"progressBar",staticClass:"progress-bar",attrs:{id:"progress-bar"}})])])},$e=[],je=(a("5319"),{data:function(){return{audio:"",interval:0,width:1,progressBar:""}},methods:{onAudioRecord:function(){var t=15,e=this;navigator.mediaDevices.getUserMedia({audio:!0}).then((function(a){var n=new MediaRecorder(a);n.start();var r=[];n.addEventListener("dataavailable",(function(t){r.push(t.data)})),n.addEventListener("stop",(function(){var t=new Blob(r),a=new FileReader;a.readAsDataURL(t),a.onload=function(){e.audio=a.result}})),setTimeout((function(){n.stop()}),1e3*t)})),this.progressBarAnimation(t)},progressBarAnimation:function(t){this.resetProgressBar(),this.interval=setInterval(a,10*t);var e=this;function a(){e.width>=100?(clearInterval(e.interval),e.$refs.audio.classList.toggle("hidden"),e.$refs.play.classList.toggle("hidden")):(e.width+=1,e.progressBar.style.width=e.width+"%")}},resetProgressBar:function(){this.width=1,clearInterval(this.interval),this.progressBar.style.width=this.width+"%"},onAudioPlay:function(){this.audio=this.audio.replace("data:application/octet-stream;","data:audio/wav;"),console.log(this.audio);var t=new Audio(this.audio);t.volume=1,t.play()}},mounted:function(){this.progressBar=this.$refs.progressBar}}),Oe=je,_e=(a("0f57"),Object(c["a"])(Oe,Ae,$e,!1,null,"2a524f7f",null)),ze=_e.exports,Me=function(t){Object(Ut["a"])("b",(function(){return Q.commit("setTool","brush")})),Object(Ut["a"])("p",(function(){return Q.commit("setTool","pencil")})),Object(Ut["a"])("e",(function(){return Q.commit("setTool","eraser")})),Object(Ut["a"])("a",(function(){return Q.commit("setTool","select")})),Object(Ut["a"])("ctrl+z",(function(){return v.undo()})),Object(Ut["a"])("ctrl+shift+z",(function(){return v.redo()})),Object(Ut["a"])("ctrl+q",(function(){Nt(),Vt()}))},Te=function(t){s.a.setup(t.canvas),s.a.tool=null,Me(t),document.getElementById("canvas").addEventListener("wheel",(function(e){t.vdrawArgs.zoom=s.a.view.zoom})),s.a.project.importJSON(window.localStorage.vdarw||[]),t.vdrawArgs.size=s.a.view.size,t.vdrawArgs.zoom=s.a.view.zoom,t.isInit=!0},Le=(a("c19f"),a("ace4"),a("fd87"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),function(){function t(t,e){this.x=t,this.y=e}function e(t,e){this.w=t,this.h=e,this.size=t*e,this.arraybuffer=new ArrayBuffer(this.size),this.data=new Int8Array(this.arraybuffer)}function a(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}function n(t){this.n=t,this.tag=new Array(t),this.c=new Array(3*t),this.alphaCurve=0,this.vertex=new Array(t),this.alpha=new Array(t),this.alpha0=new Array(t),this.beta=new Array(t)}t.prototype.copy=function(){return new t(this.x,this.y)},e.prototype.at=function(t,e){return t>=0&&t<this.w&&e>=0&&e<this.h&&1===this.data[this.w*e+t]},e.prototype.index=function(e){var a=new t;return a.y=Math.floor(e/this.w),a.x=e-a.y*this.w,a},e.prototype.flip=function(t,e){this.at(t,e)?this.data[this.w*e+t]=0:this.data[this.w*e+t]=1},e.prototype.copy=function(){var t,a=new e(this.w,this.h);for(t=0;t<this.size;t++)a.data[t]=this.data[t];return a};var r,s=document.createElement("img"),o=document.createElement("canvas"),i=null,c=[],l={isReady:!1,turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2};function u(t){l.isReady&&y(),s.file=t;var e=new FileReader;e.onload=function(t){return function(e){t.src=e.target.result}}(s),e.readAsDataURL(t)}function h(t){l.isReady&&y(),s.src=t}function d(t){var e;for(e in t)t.hasOwnProperty(e)&&(l[e]=t[e])}function f(){o.width=s.width,o.height=s.height;var t=o.getContext("2d");t.drawImage(s,0,0)}function p(){var t=o.getContext("2d");i=new e(o.width,o.height);var a,n,r,s=t.getImageData(0,0,i.w,i.h),c=s.data.length;for(a=0,n=0;a<c;a+=4,n++)r=.2126*s.data[a]+.7153*s.data[a+1]+.0721*s.data[a+2],i.data[n]=r<128?1:0;l.isReady=!0}function m(){var e,n=i.copy(),r=new t(0,0);function s(t){var e=n.w*t.y+t.x;while(e<n.size&&1!==n.data[e])e++;return e<n.size&&n.index(e)}function o(t,e){var a,r,s;for(a=2;a<5;a++){for(s=0,r=1-a;r<=a-1;r++)s+=n.at(t+r,e+a-1)?1:-1,s+=n.at(t+a-1,e+r-1)?1:-1,s+=n.at(t+r-1,e-a)?1:-1,s+=n.at(t-a,e+r)?1:-1;if(s>0)return 1;if(s<0)return 0}return 0}function u(e){var r,s=new a,c=e.x,u=e.y,h=0,d=1;s.sign=i.at(e.x,e.y)?"+":"-";while(1){if(s.pt.push(new t(c,u)),c>s.maxX&&(s.maxX=c),c<s.minX&&(s.minX=c),u>s.maxY&&(s.maxY=u),u<s.minY&&(s.minY=u),s.len++,c+=h,u+=d,s.area-=c*d,c===e.x&&u===e.y)break;var f=n.at(c+(h+d-1)/2,u+(d-h-1)/2),p=n.at(c+(h-d-1)/2,u+(d+h-1)/2);p&&!f?"right"===l.turnpolicy||"black"===l.turnpolicy&&"+"===s.sign||"white"===l.turnpolicy&&"-"===s.sign||"majority"===l.turnpolicy&&o(c,u)||"minority"===l.turnpolicy&&!o(c,u)?(r=h,h=-d,d=r):(r=h,h=d,d=-r):p?(r=h,h=-d,d=r):f||(r=h,h=d,d=-r)}return s}function h(t){var e,a,r,s,o,i,c=t.pt[0].y,l=t.len;for(o=1;o<l;o++)if(e=t.pt[o].x,a=t.pt[o].y,a!==c){for(s=c<a?c:a,r=t.maxX,i=e;i<r;i++)n.flip(i,s);c=a}}while(r=s(r))e=u(r),h(e),e.area>l.turdsize&&c.push(e)}function v(){function e(){this.data=[0,0,0,0,0,0,0,0,0]}function a(t,e,a,n,r){this.x=t,this.y=e,this.xy=a,this.x2=n,this.y2=r}function r(t,e){return t>=e?t%e:t>=0?t:e-1-(-1-t)%e}function s(t,e){return t.x*e.y-t.y*e.x}function o(t,e,a){return t<=a?t<=e&&e<a:t<=e||e<a}function i(t){return t>0?1:t<0?-1:0}function u(t,e){var a,n,r,s=new Array(3);for(s[0]=e.x,s[1]=e.y,s[2]=1,r=0,a=0;a<3;a++)for(n=0;n<3;n++)r+=s[a]*t.at(a,n)*s[n];return r}function h(e,a,n){var r=new t;return r.x=a.x+e*(n.x-a.x),r.y=a.y+e*(n.y-a.y),r}function d(e,a){var n=new t;return n.y=i(a.x-e.x),n.x=-i(a.y-e.y),n}function f(t,e){var a=d(t,e);return a.y*(e.x-t.x)-a.x*(e.y-t.y)}function p(t,e,a){var n,r,s,o;return n=e.x-t.x,r=e.y-t.y,s=a.x-t.x,o=a.y-t.y,n*o-s*r}function m(t,e,a,n){var r,s,o,i;return r=e.x-t.x,s=e.y-t.y,o=n.x-a.x,i=n.y-a.y,r*i-o*s}function v(t,e,a){var n,r,s,o;return n=e.x-t.x,r=e.y-t.y,s=a.x-t.x,o=a.y-t.y,n*s+r*o}function g(t,e,a,n){var r,s,o,i;return r=e.x-t.x,s=e.y-t.y,o=n.x-a.x,i=n.y-a.y,r*o+s*i}function y(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function w(e,a,n,r,s){var o=1-e,i=new t;return i.x=o*o*o*a.x+o*o*e*3*n.x+e*e*o*3*r.x+e*e*e*s.x,i.y=o*o*o*a.y+o*o*e*3*n.y+e*e*o*3*r.y+e*e*e*s.y,i}function x(t,e,a,n,r,s){var o,i,c,l,u,h,d,f,p,v;return o=m(t,e,r,s),i=m(e,a,r,s),c=m(a,n,r,s),l=o-2*i+c,u=-2*o+2*i,h=o,d=u*u-4*l*h,0===l||d<0?-1:(f=Math.sqrt(d),p=(-u+f)/(2*l),v=(-u-f)/(2*l),p>=0&&p<=1?p:v>=0&&v<=1?v:-1)}function b(t){var e,n,r;t.x0=t.pt[0].x,t.y0=t.pt[0].y,t.sums=[];var s=t.sums;for(s.push(new a(0,0,0,0,0)),e=0;e<t.len;e++)n=t.pt[e].x-t.x0,r=t.pt[e].y-t.y0,s.push(new a(s[e].x+n,s[e].y+r,s[e].xy+n*r,s[e].x2+n*n,s[e].y2+r*r))}function C(e){var a,n=e.len,c=e.pt,l=new Array(n),u=new Array(n),h=new Array(4);e.lon=new Array(n);var d,f,p,m,v,g,y,w,x=[new t,new t],b=new t,C=new t,k=new t,S=0;for(f=n-1;f>=0;f--)c[f].x!=c[S].x&&c[f].y!=c[S].y&&(S=f+1),u[f]=S;for(f=n-1;f>=0;f--){h[0]=h[1]=h[2]=h[3]=0,a=(3+3*(c[r(f+1,n)].x-c[f].x)+(c[r(f+1,n)].y-c[f].y))/2,h[a]++,x[0].x=0,x[0].y=0,x[1].x=0,x[1].y=0,S=u[f],m=f;while(1){if(d=0,a=(3+3*i(c[S].x-c[m].x)+i(c[S].y-c[m].y))/2,h[a]++,h[0]&&h[1]&&h[2]&&h[3]){l[f]=m,d=1;break}if(b.x=c[S].x-c[f].x,b.y=c[S].y-c[f].y,s(x[0],b)<0||s(x[1],b)>0)break;if(Math.abs(b.x)<=1&&Math.abs(b.y)<=1||(C.x=b.x+(b.y>=0&&(b.y>0||b.x<0)?1:-1),C.y=b.y+(b.x<=0&&(b.x<0||b.y<0)?1:-1),s(x[0],C)>=0&&(x[0].x=C.x,x[0].y=C.y),C.x=b.x+(b.y<=0&&(b.y<0||b.x<0)?1:-1),C.y=b.y+(b.x>=0&&(b.x>0||b.y<0)?1:-1),s(x[1],C)<=0&&(x[1].x=C.x,x[1].y=C.y)),m=S,S=u[m],!o(S,f,m))break}0===d&&(k.x=i(c[S].x-c[m].x),k.y=i(c[S].y-c[m].y),b.x=c[m].x-c[f].x,b.y=c[m].y-c[f].y,v=s(x[0],b),g=s(x[0],k),y=s(x[1],b),w=s(x[1],k),p=1e7,g<0&&(p=Math.floor(v/-g)),w>0&&(p=Math.min(p,Math.floor(-y/w))),l[f]=r(m+p,n))}for(p=l[n-1],e.lon[n-1]=p,f=n-2;f>=0;f--)o(f+1,l[f],p)&&(p=l[f]),e.lon[f]=p;for(f=n-1;o(r(f+1,n),p,e.lon[f]);f--)e.lon[f]=p}function k(t){function e(t,e,a){var n,r,s,o,i,c,l,u,h,d,f,p,m,v,g=t.len,y=t.pt,w=t.sums,x=0;return a>=g&&(a-=g,x=1),0===x?(n=w[a+1].x-w[e].x,r=w[a+1].y-w[e].y,o=w[a+1].x2-w[e].x2,s=w[a+1].xy-w[e].xy,i=w[a+1].y2-w[e].y2,c=a+1-e):(n=w[a+1].x-w[e].x+w[g].x,r=w[a+1].y-w[e].y+w[g].y,o=w[a+1].x2-w[e].x2+w[g].x2,s=w[a+1].xy-w[e].xy+w[g].xy,i=w[a+1].y2-w[e].y2+w[g].y2,c=a+1-e+g),f=(y[e].x+y[a].x)/2-y[0].x,p=(y[e].y+y[a].y)/2-y[0].y,v=y[a].x-y[e].x,m=-(y[a].y-y[e].y),l=(o-2*n*f)/c+f*f,u=(s-n*p-r*f)/c+f*p,h=(i-2*r*p)/c+p*p,d=m*m*l+2*m*v*u+v*v*h,Math.sqrt(d)}var a,n,s,o,i,c,l,u=t.len,h=new Array(u+1),d=new Array(u+1),f=new Array(u),p=new Array(u+1),m=new Array(u+1),v=new Array(u+1);for(a=0;a<u;a++)l=r(t.lon[r(a-1,u)]-1,u),l==a&&(l=r(a+1,u)),f[a]=l<a?u:l;for(n=1,a=0;a<u;a++)while(n<=f[a])p[n]=a,n++;for(a=0,n=0;a<u;n++)m[n]=a,a=f[a];for(m[n]=u,s=n,a=u,n=s;n>0;n--)v[n]=a,a=p[a];for(v[0]=0,h[0]=0,n=1;n<=s;n++)for(a=v[n];a<=m[n];a++){for(c=-1,o=m[n-1];o>=p[a];o--)i=e(t,o,a)+h[o],(c<0||i<c)&&(d[a]=o,c=i);h[a]=c}for(t.m=s,t.po=new Array(s),a=u,n=s-1;a>0;n--)a=d[a],t.po[n]=a}function S(a){function s(t,e,a,n,r){var s,o,i,c,l,u,h,d,f,p,m,v=t.len,g=t.sums,y=0;while(a>=v)a-=v,y+=1;while(e>=v)e-=v,y-=1;while(a<0)a+=v,y-=1;while(e<0)e+=v,y+=1;s=g[a+1].x-g[e].x+y*g[v].x,o=g[a+1].y-g[e].y+y*g[v].y,i=g[a+1].x2-g[e].x2+y*g[v].x2,c=g[a+1].xy-g[e].xy+y*g[v].xy,l=g[a+1].y2-g[e].y2+y*g[v].y2,u=a+1-e+y*v,n.x=s/u,n.y=o/u,h=(i-s*s/u)/u,d=(c-s*o/u)/u,f=(l-o*o/u)/u,p=(h+f+Math.sqrt((h-f)*(h-f)+4*d*d))/2,h-=p,f-=p,Math.abs(h)>=Math.abs(f)?(m=Math.sqrt(h*h+d*d),0!==m&&(r.x=-d/m,r.y=h/m)):(m=Math.sqrt(f*f+d*d),0!==m&&(r.x=-f/m,r.y=d/m)),0===m&&(r.x=r.y=0)}var o,i,c,l,h,d,f,p,m,v,g,y,w,x,b,C=a.m,k=a.po,S=a.len,A=a.pt,$=a.x0,j=a.y0,O=new Array(C),_=new Array(C),z=new Array(C),M=new Array(3),T=new t;for(a.curve=new n(C),i=0;i<C;i++)c=k[r(i+1,C)],c=r(c-k[i],S)+k[i],O[i]=new t,_[i]=new t,s(a,k[i],c,O[i],_[i]);for(i=0;i<C;i++)if(z[i]=new e,o=_[i].x*_[i].x+_[i].y*_[i].y,0===o)for(c=0;c<3;c++)for(l=0;l<3;l++)z[i].data[3*c+l]=0;else for(M[0]=_[i].y,M[1]=-_[i].x,M[2]=-M[1]*O[i].y-M[0]*O[i].x,h=0;h<3;h++)for(l=0;l<3;l++)z[i].data[3*h+l]=M[h]*M[l]/o;for(i=0;i<C;i++){for(d=new e,f=new t,T.x=A[k[i]].x-$,T.y=A[k[i]].y-j,c=r(i-1,C),h=0;h<3;h++)for(l=0;l<3;l++)d.data[3*h+l]=z[c].at(h,l)+z[i].at(h,l);while(1){if(v=d.at(0,0)*d.at(1,1)-d.at(0,1)*d.at(1,0),0!==v){f.x=(-d.at(0,2)*d.at(1,1)+d.at(1,2)*d.at(0,1))/v,f.y=(d.at(0,2)*d.at(1,0)-d.at(1,2)*d.at(0,0))/v;break}for(d.at(0,0)>d.at(1,1)?(M[0]=-d.at(0,1),M[1]=d.at(0,0)):d.at(1,1)?(M[0]=-d.at(1,1),M[1]=d.at(1,0)):(M[0]=1,M[1]=0),o=M[0]*M[0]+M[1]*M[1],M[2]=-M[1]*T.y-M[0]*T.x,h=0;h<3;h++)for(l=0;l<3;l++)d.data[3*h+l]+=M[h]*M[l]/o}if(p=Math.abs(f.x-T.x),m=Math.abs(f.y-T.y),p<=.5&&m<=.5)a.curve.vertex[i]=new t(f.x+$,f.y+j);else{if(g=u(d,T),w=T.x,x=T.y,0!==d.at(0,0))for(b=0;b<2;b++)f.y=T.y-.5+b,f.x=-(d.at(0,1)*f.y+d.at(0,2))/d.at(0,0),p=Math.abs(f.x-T.x),y=u(d,f),p<=.5&&y<g&&(g=y,w=f.x,x=f.y);if(0!==d.at(1,1))for(b=0;b<2;b++)f.x=T.x-.5+b,f.y=-(d.at(1,0)*f.x+d.at(1,2))/d.at(1,1),m=Math.abs(f.y-T.y),y=u(d,f),m<=.5&&y<g&&(g=y,w=f.x,x=f.y);for(h=0;h<2;h++)for(l=0;l<2;l++)f.x=T.x-.5+h,f.y=T.y-.5+l,y=u(d,f),y<g&&(g=y,w=f.x,x=f.y);a.curve.vertex[i]=new t(w+$,x+j)}}}function A(t){var e,a,n,r=t.curve,s=r.n,o=r.vertex;for(e=0,a=s-1;e<a;e++,a--)n=o[e],o[e]=o[a],o[a]=n}function $(t){var e,a,n,s,o,i,c,u,d,m=t.curve.n,v=t.curve;for(e=0;e<m;e++)a=r(e+1,m),n=r(e+2,m),d=h(.5,v.vertex[n],v.vertex[a]),o=f(v.vertex[e],v.vertex[n]),0!==o?(s=p(v.vertex[e],v.vertex[a],v.vertex[n])/o,s=Math.abs(s),i=s>1?1-1/s:0,i/=.75):i=4/3,v.alpha0[a]=i,i>=l.alphamax?(v.tag[a]="CORNER",v.c[3*a+1]=v.vertex[a],v.c[3*a+2]=d):(i<.55?i=.55:i>1&&(i=1),c=h(.5+.5*i,v.vertex[e],v.vertex[a]),u=h(.5+.5*i,v.vertex[n],v.vertex[a]),v.tag[a]="CURVE",v.c[3*a+0]=c,v.c[3*a+1]=u,v.c[3*a+2]=d),v.alpha[a]=i,v.beta[a]=.5;v.alphacurve=1}function j(e){function a(){this.pen=0,this.c=[new t,new t],this.t=0,this.s=0,this.alpha=0}function s(t,e,a,n,s,o,c){var l,u,d,f,b,C,k,S,A,$,j,O,_,z,M,T,L,E,D,B,I,P,R,V=t.curve.n,N=t.curve,U=N.vertex;if(e==a)return 1;if(l=e,b=r(e+1,V),u=r(l+1,V),f=o[u],0===f)return 1;for(S=y(U[e],U[b]),l=u;l!=a;l=u){if(u=r(l+1,V),d=r(l+2,V),o[u]!=f)return 1;if(i(m(U[e],U[b],U[u],U[d]))!=f)return 1;if(g(U[e],U[b],U[u],U[d])<S*y(U[u],U[d])*-.999847695156)return 1}if(j=N.c[3*r(e,V)+2].copy(),O=U[r(e+1,V)].copy(),_=U[r(a,V)].copy(),z=N.c[3*r(a,V)+2].copy(),C=c[a]-c[e],C-=p(U[0],N.c[3*e+2],N.c[3*a+2])/2,e>=a&&(C+=c[V]),E=p(j,O,_),D=p(j,O,z),B=p(j,_,z),I=E+B-D,D==E)return 1;if(R=B/(B-I),P=D/(D-E),T=D*R/2,0===T)return 1;for(L=C/T,k=2-Math.sqrt(4-L/.3),n.c[0]=h(R*k,j,O),n.c[1]=h(P*k,z,_),n.alpha=k,n.t=R,n.s=P,O=n.c[0].copy(),_=n.c[1].copy(),n.pen=0,l=r(e+1,V);l!=a;l=u){if(u=r(l+1,V),R=x(j,O,_,z,U[l],U[u]),R<-.5)return 1;if(M=w(R,j,O,_,z),S=y(U[l],U[u]),0===S)return 1;if(A=p(U[l],U[u],M)/S,Math.abs(A)>s)return 1;if(v(U[l],U[u],M)<0||v(U[u],U[l],M)<0)return 1;n.pen+=A*A}for(l=e;l!=a;l=u){if(u=r(l+1,V),R=x(j,O,_,z,N.c[3*l+2],N.c[3*u+2]),R<-.5)return 1;if(M=w(R,j,O,_,z),S=y(N.c[3*l+2],N.c[3*u+2]),0===S)return 1;if(A=p(N.c[3*l+2],N.c[3*u+2],M)/S,$=p(N.c[3*l+2],N.c[3*u+2],U[u])/S,$*=.75*N.alpha[u],$<0&&(A=-A,$=-$),A<$-s)return 1;A<$&&(n.pen+=(A-$)*(A-$))}return 0}var o,c,u,d,f,b,C,k,S,A,$,j=e.curve,O=j.n,_=j.vertex,z=new Array(O+1),M=new Array(O+1),T=new Array(O+1),L=new Array(O+1),E=new a,D=new Array(O),B=new Array(O+1);for(c=0;c<O;c++)"CURVE"==j.tag[c]?D[c]=i(p(_[r(c-1,O)],_[c],_[r(c+1,O)])):D[c]=0;for(C=0,B[0]=0,f=j.vertex[0],c=0;c<O;c++)b=r(c+1,O),"CURVE"==j.tag[b]&&(k=j.alpha[b],C+=.3*k*(4-k)*p(j.c[3*c+2],_[b],j.c[3*b+2])/2,C+=p(f,j.c[3*c+2],j.c[3*b+2])/2),B[c+1]=C;for(z[0]=-1,M[0]=0,T[0]=0,u=1;u<=O;u++)for(z[u]=u-1,M[u]=M[u-1],T[u]=T[u-1]+1,c=u-2;c>=0;c--){if(d=s(e,c,r(u,O),E,l.opttolerance,D,B),d)break;(T[u]>T[c]+1||T[u]==T[c]+1&&M[u]>M[c]+E.pen)&&(z[u]=c,M[u]=M[c]+E.pen,T[u]=T[c]+1,L[u]=E,E=new a)}for(o=T[O],S=new n(o),A=new Array(o),$=new Array(o),u=O,c=o-1;c>=0;c--)z[u]==u-1?(S.tag[c]=j.tag[r(u,O)],S.c[3*c+0]=j.c[3*r(u,O)+0],S.c[3*c+1]=j.c[3*r(u,O)+1],S.c[3*c+2]=j.c[3*r(u,O)+2],S.vertex[c]=j.vertex[r(u,O)],S.alpha[c]=j.alpha[r(u,O)],S.alpha0[c]=j.alpha0[r(u,O)],S.beta[c]=j.beta[r(u,O)],A[c]=$[c]=1):(S.tag[c]="CURVE",S.c[3*c+0]=L[u].c[0],S.c[3*c+1]=L[u].c[1],S.c[3*c+2]=j.c[3*r(u,O)+2],S.vertex[c]=h(L[u].s,j.c[3*r(u,O)+2],_[r(u,O)]),S.alpha[c]=L[u].alpha,S.alpha0[c]=L[u].alpha,A[c]=L[u].s,$[c]=L[u].t),u=z[u];for(c=0;c<o;c++)b=r(c+1,o),S.beta[c]=A[c]/(A[c]+$[b]);S.alphacurve=1,e.curve=S}e.prototype.at=function(t,e){return this.data[3*t+e]};for(var O=0;O<c.length;O++){var _=c[O];b(_),C(_),k(_),S(_),"-"===_.sign&&A(_),$(_),l.optcurve&&j(_)}}function g(t){t&&(r=t),l.isReady?(m(),v(),r(),r=null):setTimeout(g,100)}function y(){i=null,c=[],r=null,l.isReady=!1}function w(t,e){function a(e){function a(a){var n="C "+(e.c[3*a+0].x*t).toFixed(3)+" "+(e.c[3*a+0].y*t).toFixed(3)+",";return n+=(e.c[3*a+1].x*t).toFixed(3)+" "+(e.c[3*a+1].y*t).toFixed(3)+",",n+=(e.c[3*a+2].x*t).toFixed(3)+" "+(e.c[3*a+2].y*t).toFixed(3)+" ",n}function n(a){var n="L "+(e.c[3*a+1].x*t).toFixed(3)+" "+(e.c[3*a+1].y*t).toFixed(3)+" ";return n+=(e.c[3*a+2].x*t).toFixed(3)+" "+(e.c[3*a+2].y*t).toFixed(3)+" ",n}var r,s=e.n,o="M"+(e.c[3*(s-1)+2].x*t).toFixed(3)+" "+(e.c[3*(s-1)+2].y*t).toFixed(3)+" ";for(r=0;r<s;r++)"CURVE"===e.tag[r]?o+=a(r):"CORNER"===e.tag[r]&&(o+=n(r));return o}var n,r,s,o,l,u=i.w*t,h=i.h*t,d=c.length,f='<svg id="svg" version="1.1" width="'+u+'" height="'+h+'" xmlns="http://www.w3.org/2000/svg">';for(f+='<path d="',r=0;r<d;r++)n=c[r].curve,f+=a(n);return"curve"===e?(s="black",o="none",l=""):(s="none",o="black",l=' fill-rule="evenodd"'),f+='" stroke="'+s+'" fill="'+o+'"'+l+"/></svg>",f}return s.onload=function(){f(),p()},{loadImageFromFile:u,loadImageFromUrl:h,setParameter:d,process:g,getSVG:w,img:s}}),Ee={components:{VHeader:Xt,VDialogue:te,VContent:oe,VNext:de,VTrump:ye,VMagnifier:Se,VRecorder:ze},data:function(){return{isInit:!1,vdrawArgs:{size:{width:0,height:0},zoom:0},svg:"",Potrace:Le()}},methods:{toggleSideBar:function(){this.$refs["sidebar"].$el.classList.toggle("-translate-x-44");var t=Array.from(this.$refs["sidebar"].$el.classList),e=Array.from(this.$refs["sidebar"].$el.classList);-1===t.indexOf("-translate-x-44")&&-1===e.indexOf("-translate-y-80")&&this.$refs["magnifier"].$el.classList.add("-translate-y-80")},toggleMagnifier:function(){this.$refs["magnifier"].$el.classList.toggle("-translate-y-80")},handleFiles:function(){this.Potrace.loadImageFromUrl(this.image);var t=this;this.Potrace.process((function(){var e=document.createElement("div");e.innerHTML=t.Potrace.getSVG(1);var a=e.firstChild,n=a.getElementsByTagName("path"),r=([].forEach.call(n,(function(t){t.setAttribute("fill","#D3D3D3")})),btoa((new XMLSerializer).serializeToString(a)));t.svg="data:image/svg+xml;base64,"+r,t.$store.commit("setImage",t.svg)}))},exportSvg:function(){if(6===this.drawSession.step){console.log("exportSvg");var t=paper.project.exportSVG(),e=btoa((new XMLSerializer).serializeToString(t)),a="data:image/svg+xml;base64,"+e;this.$store.commit("setDrawing",a)}}},computed:Object(nt["a"])(Object(nt["a"])({},Object(d["b"])(["image","drawSession","plant"])),{},{isDefault:function(){return""===this.image},getBg:function(){var t="url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNScgaGVpZ2h0PScxNSc+CiAgPHJlY3Qgd2lkdGg9JzUwJyBoZWlnaHQ9JzUwJyBmaWxsPSIjRjlGOUY5IiAvPgogIDxjaXJjbGUgY3g9IjEiIGN5PSIxIiByPSIwLjgiIGZpbGw9IiNDQUNBQ0IiLz4KPC9zdmc+')";return"url(".concat(this.svg,"), ").concat(t)},cursor:function(){var t=this.$store.state.toolName;return null===t||"brush"===t?"cursor: auto;":"select"!==t?"cursor: none;":"cursor: auto;"},canvasBg:function(){return"background-color: ".concat(this.$store.state.canvasArgs.bgColor,"fa;")},canvas:function(){return this.$refs.canvas}}),mounted:function(){""!==this.image&&this.handleFiles(),Te(this),Nt(),Vt(),this.$store.commit("setTool","pencil")},filters:{toFixed:function(t){return t.toFixed(2)}}},De=Ee,Be=(a("dcd9"),Object(c["a"])(De,mt,vt,!1,null,null,null)),Ie=Be.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plant w-screen h-screen"},[a("router-link",{staticClass:"absolute top-11 left-14",attrs:{to:"/"}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/back.svg"},on:{click:t.toHome}})]),a("div",{staticClass:"px-16 pt-36 flex flex-row justify-between items-top"},[a("div",{staticClass:"relative"},[a("div",{staticClass:"w-64 h-64 overflow-hidden border-8 border-yellow-400 rounded-full"},[a("img",{staticClass:"image",attrs:{src:t.capture}})]),a("div",{staticClass:"bg-white absolute w-80 h-80 left-24 top-40 overflow-hidden border-8 border-yellow-400 rounded-full"},[a("div",{staticClass:"image absolute w-80 h-80 overflow-hidden"},[a("img",{staticClass:"absolute top-0 contour",attrs:{src:t.image}}),a("img",{staticClass:"absolute top-2",attrs:{src:t.drawing}})])])]),a("div",{staticClass:"text pl-52 pr-24"},[a("div",{staticClass:"flex flex-row justify-start items-center pb-6"},[a("h1",{staticClass:"text-5xl pr-8",staticStyle:{color:"#14B9F4"}},[t._v(t._s(t.plant.data.name))]),a("div",{staticClass:"pb-2",on:{click:function(e){return t.onAudioPlay()}}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/trump.svg"}})])]),a("h2",{staticClass:"text-3xl pb-4 text-gray-900"},[t._v(t._s(t.plant.data.type))]),a("VScroll",{staticClass:"h-72 overflow-hidden",attrs:{data:t.plantData}},[a("div",{staticClass:"text-lg text-gray-900",attrs:{id:"desc"}})])],1),a("div",{staticClass:"absolute bottom-6 right-12"},[a("router-link",{staticClass:"mx-6",attrs:{to:"/others"}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/next.svg"}})])],1)])],1)},Re=[],Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scrollWrapper",staticClass:"scroll"},[t._t("default")],2)},Ne=[],Ue=a("f40f"),He={name:"scroll",data:function(){return{}},props:{data:{type:String,default:function(){return""}}},watch:{data:function(t){var e=this;this.$nextTick((function(){e.refresh()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.initScroll()}))},methods:{initScroll:function(){this.$refs.scrollWrapper&&(this.scroll=new Ue["a"](this.$refs.scrollWrapper,{click:!0}))},refresh:function(){this.scroll&&this.scroll.refresh()},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)}}},Fe=He,We=Object(c["a"])(Fe,Ve,Ne,!1,null,"44967700",null),Xe=We.exports,qe={data:function(){return{plantData:""}},components:{VScroll:Xe,VTrump:ye},computed:Object(nt["a"])({},Object(d["b"])(["image","capture","drawing","plant","audio"])),methods:{toHome:function(){this.$store.commit("reset")},onAudioPlay:function(){Yt(this.plantData)}},mounted:function(){var t=document.getElementById("desc");t.innerHTML="";for(var e=0;e<this.plant.data.data.length;e++)t.innerHTML+=this.plant.data.data[e],this.plantData+=this.plant.data.data[e],t.innerHTML+="</br>",t.innerHTML+="</br>"}},Je=qe,Ge=(a("ab33"),Object(c["a"])(Je,Pe,Re,!1,null,"2b6b87f0",null)),Ye=Ge.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"others w-screen h-screen"},[a("router-link",{staticClass:"absolute top-11 left-14",attrs:{to:"/plant"}},[a("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/back.svg"}})]),a("p",{staticClass:"pt-32 text text-6xl w-full mx-auto text-center"},[t._v("类似的植物")]),a("div",{staticClass:"px-16 pt-8 flex flex-row justify-between items-top text text-3xl",attrs:{id:"others"}}),a("router-link",{attrs:{to:"/"}},[a("p",{staticClass:"text text-6xl absolute bottom-16 right-12",staticStyle:{color:"#14B9F4"},on:{click:t.toHome}},[t._v("继续寻找吧 ->")])])],1)},Qe=[],Ke=a("1da1"),ta=(a("96cf"),a("bc3a")),ea=a.n(ta),aa=(a("25f0"),function(t){function e(t,e){return t<<e|t>>>32-e}function a(t,e){var a,n,r,s,o;return r=2147483648&t,s=2147483648&e,a=1073741824&t,n=1073741824&e,o=(1073741823&t)+(1073741823&e),a&n?2147483648^o^r^s:a|n?1073741824&o?3221225472^o^r^s:1073741824^o^r^s:o^r^s}function n(t,e,a){return t&e|~t&a}function r(t,e,a){return t&a|e&~a}function s(t,e,a){return t^e^a}function o(t,e,a){return e^(t|~a)}function i(t,r,s,o,i,c,l){return t=a(t,a(a(n(r,s,o),i),l)),a(e(t,c),r)}function c(t,n,s,o,i,c,l){return t=a(t,a(a(r(n,s,o),i),l)),a(e(t,c),n)}function l(t,n,r,o,i,c,l){return t=a(t,a(a(s(n,r,o),i),l)),a(e(t,c),n)}function u(t,n,r,s,i,c,l){return t=a(t,a(a(o(n,r,s),i),l)),a(e(t,c),n)}function h(t){var e,a=t.length,n=a+8,r=(n-n%64)/64,s=16*(r+1),o=Array(s-1),i=0,c=0;while(c<a)e=(c-c%4)/4,i=c%4*8,o[e]=o[e]|t.charCodeAt(c)<<i,c++;return e=(c-c%4)/4,i=c%4*8,o[e]=o[e]|128<<i,o[s-2]=a<<3,o[s-1]=a>>>29,o}function d(t){var e,a,n="",r="";for(a=0;a<=3;a++)e=t>>>8*a&255,r="0"+e.toString(16),n+=r.substr(r.length-2,2);return n}function f(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var n=t.charCodeAt(a);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}var p,m,v,g,y,w,x,b,C,k=Array(),S=7,A=12,$=17,j=22,O=5,_=9,z=14,M=20,T=4,L=11,E=16,D=23,B=6,I=10,P=15,R=21;for(t=f(t),k=h(t),w=1732584193,x=4023233417,b=2562383102,C=271733878,p=0;p<k.length;p+=16)m=w,v=x,g=b,y=C,w=i(w,x,b,C,k[p+0],S,3614090360),C=i(C,w,x,b,k[p+1],A,3905402710),b=i(b,C,w,x,k[p+2],$,606105819),x=i(x,b,C,w,k[p+3],j,3250441966),w=i(w,x,b,C,k[p+4],S,4118548399),C=i(C,w,x,b,k[p+5],A,1200080426),b=i(b,C,w,x,k[p+6],$,2821735955),x=i(x,b,C,w,k[p+7],j,4249261313),w=i(w,x,b,C,k[p+8],S,1770035416),C=i(C,w,x,b,k[p+9],A,2336552879),b=i(b,C,w,x,k[p+10],$,4294925233),x=i(x,b,C,w,k[p+11],j,2304563134),w=i(w,x,b,C,k[p+12],S,1804603682),C=i(C,w,x,b,k[p+13],A,4254626195),b=i(b,C,w,x,k[p+14],$,2792965006),x=i(x,b,C,w,k[p+15],j,1236535329),w=c(w,x,b,C,k[p+1],O,4129170786),C=c(C,w,x,b,k[p+6],_,3225465664),b=c(b,C,w,x,k[p+11],z,643717713),x=c(x,b,C,w,k[p+0],M,3921069994),w=c(w,x,b,C,k[p+5],O,3593408605),C=c(C,w,x,b,k[p+10],_,38016083),b=c(b,C,w,x,k[p+15],z,3634488961),x=c(x,b,C,w,k[p+4],M,3889429448),w=c(w,x,b,C,k[p+9],O,568446438),C=c(C,w,x,b,k[p+14],_,3275163606),b=c(b,C,w,x,k[p+3],z,4107603335),x=c(x,b,C,w,k[p+8],M,1163531501),w=c(w,x,b,C,k[p+13],O,2850285829),C=c(C,w,x,b,k[p+2],_,4243563512),b=c(b,C,w,x,k[p+7],z,1735328473),x=c(x,b,C,w,k[p+12],M,2368359562),w=l(w,x,b,C,k[p+5],T,4294588738),C=l(C,w,x,b,k[p+8],L,2272392833),b=l(b,C,w,x,k[p+11],E,1839030562),x=l(x,b,C,w,k[p+14],D,4259657740),w=l(w,x,b,C,k[p+1],T,2763975236),C=l(C,w,x,b,k[p+4],L,1272893353),b=l(b,C,w,x,k[p+7],E,4139469664),x=l(x,b,C,w,k[p+10],D,3200236656),w=l(w,x,b,C,k[p+13],T,681279174),C=l(C,w,x,b,k[p+0],L,3936430074),b=l(b,C,w,x,k[p+3],E,3572445317),x=l(x,b,C,w,k[p+6],D,76029189),w=l(w,x,b,C,k[p+9],T,3654602809),C=l(C,w,x,b,k[p+12],L,3873151461),b=l(b,C,w,x,k[p+15],E,530742520),x=l(x,b,C,w,k[p+2],D,3299628645),w=u(w,x,b,C,k[p+0],B,4096336452),C=u(C,w,x,b,k[p+7],I,1126891415),b=u(b,C,w,x,k[p+14],P,2878612391),x=u(x,b,C,w,k[p+5],R,4237533241),w=u(w,x,b,C,k[p+12],B,1700485571),C=u(C,w,x,b,k[p+3],I,2399980690),b=u(b,C,w,x,k[p+10],P,4293915773),x=u(x,b,C,w,k[p+1],R,2240044497),w=u(w,x,b,C,k[p+8],B,1873313359),C=u(C,w,x,b,k[p+15],I,4264355552),b=u(b,C,w,x,k[p+6],P,2734768916),x=u(x,b,C,w,k[p+13],R,1309151649),w=u(w,x,b,C,k[p+4],B,4149444226),C=u(C,w,x,b,k[p+11],I,3174756917),b=u(b,C,w,x,k[p+2],P,718787259),x=u(x,b,C,w,k[p+9],R,3951481745),w=a(w,m),x=a(x,v),b=a(b,g),C=a(C,y);var V=d(w)+d(x)+d(b)+d(C);return V.toLowerCase()}),na={data:function(){return{similarSpeciesUrl:"",searchUrl:"",id:"",plants:[],appid:"20211209001023739",key:"XiXks8lt529b7TD_u7eG",from:"en",to:"zh"}},computed:Object(nt["a"])({},Object(d["b"])(["plant"])),methods:{translate:function(t){var e=this;return Object(Ke["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return"https://api.fanyi.baidu.com/api/trans/vip/translate",n=(new Date).getTime(),r=e.appid+t+n+e.key,aa(r),encodeURIComponent(t),a.next=7,ea.a.get("https://ztodesign.cn:5000/translate?text="+t).then((function(e){console.log(e),t=e.data.trans_result[0].dst})).catch((function(t){console.log(t)}));case 7:return a.abrupt("return",t);case 8:case"end":return a.stop()}}),a)})))()},toHome:function(){this.$store.commit("reset")}},mounted:function(){var t=this;return Object(Ke["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o,i,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.similarSpeciesUrl="https://api.inaturalist.org/v1/identifications/similar_species?taxon_id=",t.searchUrl="https://api.inaturalist.org/v1/search?q=",a=t,e.next=5,ea.a.get(t.searchUrl+encodeURI(a.plant.name)).then((function(t){a.id=t.data.results[0].record.id})).catch((function(t){console.log(t)}));case 5:return e.next=7,ea.a.get(t.similarSpeciesUrl+a.id).then((function(t){for(var e=t.data.results,n=0;n<e.length;n++){var r={name:"",image:""};r.name=e[n].taxon.preferred_common_name,r.image=e[n].taxon.taxon_photos[0].photo.large_url,a.plants.push(r)}})).catch((function(t){console.log(t)}));case 7:n=t.plants.length>=3?3:t.plants.length,r=document.getElementById("others"),s=0;case 10:if(!(s<n)){e.next=30;break}return o=document.createElement("div"),o.setAttribute("class","flex flex-col justify-between items-center"),i=document.createElement("p"),e.next=16,t.translate(t.plants[s].name);case 16:i.innerHTML=e.sent,i.setAttribute("class","pt-4"),c=document.createElement("div"),l=document.createElement("img"),l.setAttribute("src",t.plants[s].image),l.setAttribute("style","transform: scale(2.2)"),c.setAttribute("class","w-80 h-80 overflow-hidden border-8 border-yellow-400 rounded-full"),c.appendChild(l),o.appendChild(c),o.appendChild(i),r.appendChild(o);case 27:s++,e.next=10;break;case 30:case"end":return e.stop()}}),e)})))()}},ra=na,sa=(a("1830"),Object(c["a"])(ra,Ze,Qe,!1,null,"496ad891",null)),oa=sa.exports;n["default"].use(tt["a"]);var ia=[{path:"/",name:"Home",component:pt},{path:"/canvas",name:"Canvas",component:Ie},{path:"/plant",name:"Plant",component:Ye},{path:"/others",name:"Others",component:oa}],ca=new tt["a"]({mode:"hash",base:"",routes:ia}),la=ca,ua=a("28dd");s.a.install(window),n["default"].prototype.$store=Q,n["default"].config.productionTip=!1,n["default"].use(K["a"]),n["default"].use(ua["a"]);e["default"]=new n["default"]({store:Q,router:la,render:function(t){return t(h)}}).$mount("#app")},"5a82":function(t,e,a){"use strict";var n=a("1925"),r=a.n(n);r.a},"667b":function(t,e,a){"use strict";var n=a("e0bd"),r=a.n(n);r.a},"6d7f":function(t,e,a){},"8d57":function(t,e,a){},"925d":function(t,e,a){},ab33:function(t,e,a){"use strict";var n=a("dfa9"),r=a.n(n);r.a},dcd9:function(t,e,a){"use strict";var n=a("925d"),r=a.n(n);r.a},dfa9:function(t,e,a){},e0bd:function(t,e,a){},e42e:function(t,e,a){},e9ff:function(t,e,a){"use strict";var n=a("8d57"),r=a.n(n);r.a}});
//# sourceMappingURL=app.3494abe4.js.map